@using Chatverse.UI.ViewModels.Post;

@{
    ViewData["Title"] = "UpdatePost";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model GetPostByIdViewModel
<div class="main-content right-chat-active">
    <div class="middle-sidebar-bottom">
        <div class="middle-sidebar-left">
            <div class="row">
    @if (Model.Media is not null)
    {
  
            <div class="card w-100 shadow-xss rounded-xxl border-0 p-4 mb-3">
                <div class="card-body p-0 d-flex">
                    <figure class="avatar me-3"><img src="~/chatverse/uitheme.net/sociala/images/user-7.png" alt="image" class="shadow-sm rounded-circle w45"></figure>
                    <h4 class="fw-700 text-grey-900 font-xssss mt-1">@Model.FullName  <span class="d-block font-xssss fw-500 mt-1 lh-3 text-grey-500">@Model.CreateDate</span></h4>


                </div>
                        <form asp-action="UpdatePost" asp-controller="Posts" method="post" enctype="multipart/form-data">
                            <div class="card-body p-0 me-lg-5">
                                <div class="card-body p-0 mt-3 position-relative">
                                    <textarea name="UpdateContent" class="h100 bor-0 w-100 rounded-xxl p-2 ps-3 font-xssss myCustomCommentTxtColor  fw-500 border-light-md theme-dark-bg" cols="30" rows="10">@Model.Content</textarea>
                                </div>
                                <div class="card-body d-flex p-0 mt-0">                           
                                    <a id="uploadLink" class="d-flex align-items-center font-xssss fw-600 ls-1 text-grey-700 text-dark pe-4"><i class="font-md text-success feather-image me-2"></i><span class="d-none-xs">Photo/Video</span></a>
                                    <div class="ms-auto">
                                        <button type="submit" class="p-2 lh-20 bg-primary-gradiant text-white font-xssss fw-600 ls-1 rounded-xl">Update</button>
                                    </div>
                                </div>
                                <div id="imagePreview" class="card-body position-relative" style="display: none;">
                                    <!-- Resim önizleme alanı -->
                                </div>
                                <input type="file" id="fileInput" style="display:none" name="UpdateMedia" multiple accept="image/*">
                                <input name="UpdatePostId" value="@Model.PostId" style="display:none">
                            </div>
                            <br />
                            <div class="card-body d-block p-0">
                                <div class="row ps-2 pe-2">
                                    @foreach (var images in Model.Media)
                                    {
                                        <div class="col-xs-4 col-sm-4 p-1"><a data-lightbox="roadtrip"><img src="~/@images" class="rounded-3 w-100" alt="image"></a></div>
                                    }


                                </div>
                            </div>                        
                        </form>
              
                <div class="card-body d-flex p-0 mt-3">
                    <a href="#" class="emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"><i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i> <i class="feather-heart text-white bg-red-gradiant me-2 btn-round-xs font-xss"></i>2.8K Like</a>
                    <div class="emoji-wrap">
                        <ul class="emojis list-inline mb-0">
                            <li class="emoji list-inline-item"><i class="em em---1"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-angry"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-anguished"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-astonished"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-blush"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-clap"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-cry"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-full_moon_with_face"></i></li>
                        </ul>
                    </div>

                          
                </div>

            </div>
        }
    else
        {
            <div class="card w-100 shadow-xss rounded-xxl border-0 p-4 mb-0">
                <div class="card-body p-0 d-flex">
                    <figure class="avatar me-3 m-0"><img src="~/chatverse/uitheme.net/sociala/images/user-8.png" alt="image" class="shadow-sm rounded-circle w45"></figure>
                    <h4 class="fw-700 text-grey-900 font-xssss mt-1">@Model.FullName  <span class="d-block font-xssss fw-500 mt-1 lh-3 text-grey-500">@Model.CreateDate</span></h4>

                    <div class="dropdown-menu dropdown-menu-end p-4 rounded-xxl border-0 shadow-lg" aria-labelledby="dropdownMenu6">
                        <div class="card-body p-0 d-flex">
                            <i class="feather-trash text-grey-500 me-3 font-lg"></i>
                            <h4 class="fw-600 text-grey-900 font-xssss mt-0 me-4">Save Link <span class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Add this to your saved items</span></h4>
                        </div>
                        <div class="card-body p-0 d-flex mt-2">
                            <i class="feather-refresh-ccw text-grey-500 me-3 font-lg"></i>
                            <h4 class="fw-600 text-grey-900 font-xssss mt-0 me-4">Hide Post <span class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Save to your saved items</span></h4>
                        </div>

                    </div>
                </div>
                <form asp-action="UpdatePost" asp-controller="Posts" method="post" enctype="multipart/form-data">
                        <div class="card-body p-0 me-lg-5">
                            <div class="card-body p-0 mt-3 position-relative">
                                <textarea name="UpdateContent" class="h100 bor-0 w-100 rounded-xxl p-2 ps-3 font-xssss myCustomCommentTxtColor  fw-500 border-light-md theme-dark-bg" cols="30" rows="10">@Model.Content</textarea>
                            </div>
                            <div class="card-body d-flex p-0 mt-0">
                                <a id="uploadLink" class="d-flex align-items-center font-xssss fw-600 ls-1 text-grey-700 text-dark pe-4"><i class="font-md text-success feather-image me-2"></i><span class="d-none-xs">Photo/Video</span></a>
                                <div class="ms-auto">
                                    <button type="submit" class="p-2 lh-20 bg-primary-gradiant text-white font-xssss fw-600 ls-1 rounded-xl">Update</button>
                                </div>
                            </div>
                            <div id="imagePreview" class="card-body position-relative" style="display: none;">
                                <!-- Resim önizleme alanı -->
                            </div>
                            <input type="file" id="fileInput" style="display:none" name="UpdateMedia" multiple accept="image/*">
                            <input name="UpdatePostId" value="@Model.PostId" style="display:none">
                        </div>
                        <br />
                        </form>
                <div class="card-body d-flex p-0">
                    <a href="#" class="emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"><i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i> <i class="feather-heart text-white bg-red-gradiant me-2 btn-round-xs font-xss"></i>2.8K Like</a>
                    <div class="emoji-wrap">
                        <ul class="emojis list-inline mb-0">
                            <li class="emoji list-inline-item"><i class="em em---1"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-angry"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-anguished"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-astonished"></i> </li>
                            <li class="emoji list-inline-item"><i class="em em-blush"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-clap"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-cry"></i></li>
                            <li class="emoji list-inline-item"><i class="em em-full_moon_with_face"></i></li>
                        </ul>
                    </div>

                        
                </div>

            </div>
           
        }
    
        </div>
    </div>
 </div>
</div>