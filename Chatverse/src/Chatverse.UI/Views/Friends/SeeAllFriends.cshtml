@using Chatverse.UI.ViewModels.Friends;

@{
    ViewData["Title"] = "SeeAllFriends";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model ICollection<GetAllFriendsViewModel>
<div class="main-content right-chat-active">

    <div class="middle-sidebar-bottom">
        <div class="middle-sidebar-left pe-0">
            <div class="row">
                <div class="col-xl-12">
                    <div class="card shadow-xss w-100 d-block d-flex border-0 p-4 mb-3">
                        <div class="card-body d-flex align-items-center p-0">
                            <h2 class="fw-700 mb-0 mt-0 font-md text-grey-900">Friends</h2>

                        </div>
                    </div>

                    <div id="mainRequestelement" class="row ps-2 pe-2">
                        <div class="alert alert-success" id="deleteMessageAlert" role="alert" style="display:none">
                            Friend request deleted successfully
                        </div>
                        <div class="alert alert-success" id="acceptMessageAlert" role="alert" style="display:none">
                            Friend request accepted successfully
                        </div>
                        @{
                            int count = 1;
                        }
                        @if (Model is not null)
                        {

                            foreach (var friend in Model)
                            {

                                <div class="col-md-3 col-sm-4 pe-2 ps-2" id="del{@count}Section">
                                    <div class="card d-block border-0 shadow-xss rounded-3 overflow-hidden mb-3">
                                        <div class="card-body d-block w-100 ps-3 pe-3 pb-4 text-center">
                                            <figure class="avatar ms-auto me-auto mb-0 position-relative w65 z-index-1"><img src="~/chatverse/uitheme.net/sociala/images/user-7.png" alt="image" class="float-right p-0 bg-white rounded-circle w-100 shadow-xss"></figure>
                                            <div class="clearfix"></div>
                                            <h4 class="fw-700 font-xsss mt-3 mb-1">@friend.Fullname </h4>
                                            <p class="fw-500 font-xsssss text-grey-500 mt-0 mb-3">@friend.Username</p>
                                            <div class="card-body d-flex align-items-center pt-0 ps-4 pe-4 pb-4">

                                                <a id="del{@count}" href="/Friends/RemoveFriend/@friend.SenderId" class="p-2 lh-20 w100 bg-danger text-white-800 text-center font-xssss fw-600 ls-1 rounded-xl myDeleteRequest">Remove</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                count++;
                            }

                        }

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
